<!DOCTYPE html>
<html lang="pl">
  <head>
    <title>PV Kalkulator</title>
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.png">
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="author" content="Karol Okninski">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css" integrity="sha384-b6lVK+yci+bfDmaY1u0zE8YYJt0TZxLEAFyYSLHId4xoVvsrQu3INevFKo+Xir8e" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/styles/style.css">
</head>
  
<body>
  <div class="container">
    <div class="col">
      <section class="main-text">
        <h1>Kalkulator szacunkowej produkcji energii z fotowoltaiki</h1>
        <p>Wprowadź informację na temat instalacji i sprawdź estymowaną historyczną produkcję energii na podstawie danych historycznych</p>
      </section>

      <section class="card">
        <div class="col">
          <h2>1. Podaj parametry instalacji</h2>

          <div class="row parameters-form">
              <div class="mb-3 col-12 col-lg-5" style="margin: auto;">
                <form id="form-input-parameters" class="needs-validation">
                  <div class="form-floating">
                    <input id="input-power" class="form-control" type="number" step="0.01" placeholder="Zainstalowana moc" required />
                    <label for="floatingInput">Zainstalowana moc (kWp)</label>
                    <div class="invalid-feedback">
                      Wprowadź moc instalacji fotowoltaicznej.
                    </div>
                  </div>

                  <div class="my-3 pt-2 px-2 border rounded">
                    <label id="label-angle" class="form-label">Kąt nachylenia paneli: 30°</label>
                    <input id="input-angle" type="range" class="form-range" min="0" max="90" step="10" value="30">
                  </div>

                  <div class="form-floating">

                    <select id="input-select-azimuth" class="form-select" aria-label="Default select example">
                      <option value="90">Zachód 270°</option>
                      <option value="60">Południowy Zachód 240°</option>
                      <option value="30">Południowy Zachód 210°</option>
                      <option value="0" selected>Południe 180°</option>
                      <option value="-30">Południowy Wschód 150°</option>
                      <option value="-60">Południowy Wschód 120°</option>
                      <option value="-90">Wschód 90°</option>
                    </select>
                    <label for="floatingSelect">Kierunek paneli</label>
                  </div>
                  
                  <!-- <div class="mt-3 pt-2 px-2 border rounded">
                  <label id="label-azimuth" class="form-label">Skierowanie paneli: 0°</label>
                  <input id="input-azimuth" type="range" class="form-range" min="-90" max="90" step="30" value="0"> -->
                </form>
              </div>

              <div class="my-2 col-12 col-lg-7" style="margin: auto;">
                <h3>Wyjaśnienie parametrów</h3>
                <p>Moc instalacji PV, wyrażona w kilowatopik (1kWp = 1000Wp), to maksymalna wydajność jaką może osiągnąć instalacja fotowoltaiczna.</p>
                <p>Kąt nachylenia paneli PV to pochylenie ich powierzchni względem poziomu, wpływające na efektywność absorpcji energii słonecznej.</p>
                <p>Kierunek instalacji paneli PV to orientacja względem Słońca, optymalizująca pochłanianie energii słonecznej dla maksymalnej wydajności.</p>
              </div>
          </div>

          <h2>2. Wprowadź lokalizację</h2>
          
          <div style="width: 90%; margin: auto;">
            <div id="map-container">
              <div id="map" style="width: 100%; height: 100%; border: solid 2px white; border-radius: 1em"></div>
            </div>
            <div id="map-wrong-input" class="invalid-feedback" style="display: none;">
              Kliknij na mapę, aby wprowadzić lokalizację.
            </div>
            <p id="map-lat" style="margin-bottom: 0; margin-top: 1em;"></p>
            <p id="map-lng" style="margin-top: 0;"></p>
            
            <!-- <div class="input-group mb-3">
              <input class="form-control" type="search" id="input-search-location" placeholder="Wyszukaj lokalizację" aria-describedby="button-location">
            
              <button class="btn btn-outline-secondary" type="button" id="button-location"><i class="bi bi-search"></i></button>
            </div> -->
          </div>

          <!-- <h2>3. Zużycie energii</h2>

          <div class="row consumption">
            <input type="range" class="form-range" id="customRange1">
            <input type="range" class="form-range" id="customRange1">
            <input type="range" class="form-range" id="customRange1">
            <input type="range" class="form-range" id="customRange1">
            <input type="range" class="form-range" id="customRange1">
            <input type="range" class="form-range" id="customRange1">
            <input type="range" class="form-range" id="customRange1">
            <input type="range" class="form-range" id="customRange1">
            <input type="range" class="form-range" id="customRange1">
            <input type="range" class="form-range" id="customRange1">
            <input type="range" class="form-range" id="customRange1">
            <input type="range" class="form-range" id="customRange1">
          </div> -->

          <a href="#simulation-card">
            <button class="btn btn-outline-primary" type="button" id="button-calculate">Oblicz szacowaną produkcję</button>
          </a>

          <span id="span-wrong-input" style="color: red; font-size: large; display: none;">Wprowadź prawidłowe dane</span>
        </div>
      </section>

      <section class="card" id="simulation-card">
        <h2>Symulacja produkcji</h2>
        <br>

        <h3>Produkcja i zysk</h3>
        <div id="plot" class="plot"></div>

        <h3>Skumulowana produkcja i zysk</h3>
        <div id="plot-cumulative" class="plot"></div>

        <div class="table-container">
          <table id="simulation-table" class="table table-striped caption-top"></table>
        </div>
      </section>

      <section class="contact">
        <h3 style="text-align: center;">Wprowadź adres e-mail, a skontaktujemy się z Tobą.</h3>

        <div class="my-4 mx-auto col-12 col-md-9 col-lg-6">
          <div class="row">
            <input type="email" class="form-control" id="input-email" placeholder="E-mail" aria-describedby="emailHelp">
            <div id="email-help" class="form-text" style="display: block;">Nigdy nie udostępnimy Twojego adresu e-mail.</div>
            <div id="email-error" class="form-text" style="color: red; display: none;">Wprowadź prawidłowy adres e-mail.</div>

            <div class="mt-2 form-check">
              <input type="checkbox" class="form-check-input" id="checkbox-email">
              <label class="form-check-label" for="checkbox-email">Akceptuję <a href="regulamin.html">regulamin</a>.</label>
            </div>
            <span id="checkbox-error" class="form-text" style="color: red; display: none;">Zaakceptuj regulamin, aby kontynuować.</span>

            <button class="my-4 btn btn-primary" type="submit" id="button-email">Zapisz</button>
          </div>
        </div>

        <!-- Email popup -->
        <div class="modal fade" id="email-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">E-mail został przesłany.</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Lorem ipsum dolor sit amet consectetur adipiscing elit, integer accumsan nibh nascetur risus bibendum, a vulputate dui erat feugiat phasellus.
              </div>
            </div>
          </div>
        </div>
        
        <div class="mt-5">
          <h3>Kontakt do instalatora</h3>

          <div class="row">
              <div class="col">
                  <p>Lorem ipsum dolor sit amet consectetur adipiscing elit, integer accumsan nibh nascetur risus bibendum, a vulputate dui erat feugiat phasellus.</p>
              </div>
              <div class="col">
                  <p>Lorem ipsum dolor sit amet consectetur adipiscing elit, integer accumsan nibh nascetur risus bibendum, a vulputate dui erat feugiat phasellus.</p>
              </div>
              <div class="col">
                  <p>Lorem ipsum dolor sit amet consectetur adipiscing elit, integer accumsan nibh nascetur risus bibendum, a vulputate dui erat feugiat phasellus.</p>
              </div>
          </div>
        </div>
      </section>
    </div>
  </div>
</body>

<!-- <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
<script src="https://cdn.plot.ly/plotly-2.25.2.min.js" charset="utf-8"></script>
<script src="assets/scripts/plotly-locale-pl.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script> 
<script src="assets/scripts/script.js"></script>
</html>